/**
 * ----------------------
 * Runover Pin (pin.styl)
 * ----------------------
 * @since 0.1.0
 */

// set variables
$pin-radius = 28px
$pin-color  = hsl(354, 52%, 54%)

.runover-point-pin
  position relative
  display  inline-block
  cursor   default

  height        $pin-radius
  min-width     $pin-radius
  border-radius $pin-radius
  padding     ( $pin-radius / 4 ) ( $pin-radius / 7 )

  font-family 'Arial', sans-serif
  font-weight 600
  font-size   rem(11px)
  text-align  center
  line-height 100%
  color white

  background $pin-color
  border 2px solid white

  // set inner and outer shadows
  box-shadow                            \
    inset 0 1px 1px 0 hsla(black, 0.1), \
          0 1px 1px 0 hsla(black, 0.25)

  // create bounce animation, visible
  // while adding a point on the page
  spring-in-place \
    runover-point-pin-bounce 1000ms, 7, 5, scale(0.2)

  /**
   * Set pulse animation styling.
   * @since 0.1.0
   */

  &:before
    content ''
    absolute -100%
    z-index  -1
    background      $pin-color
    border-radius ( $pin-radius * 2 )

    // scale it down initially
    transform scale(0)

    // activate pulse on command ensuring
    // randomness on page reload
    [data-runover-pulse='true'] &
      animate 2000ms infinite,        \
        50.0% scale(0.75) opacity(0), \
        50.1% scale(0)    opacity(1)

  /**
   * Double pin's hoverable area.
   * @since 0.1.0
   */

  &:after
    content ''
    absolute -100%
